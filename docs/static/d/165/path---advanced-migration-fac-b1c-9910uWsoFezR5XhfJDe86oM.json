{"data":{"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"path":"/advanced/architecture","title":"Architecture"}}},{"node":{"frontmatter":{"path":"/advanced/contributing","title":"Contributing"}}},{"node":{"frontmatter":{"path":"/advanced/error-codes","title":"Error Codes"}}},{"node":{"frontmatter":{"path":"/advanced/lexicon","title":"Lexicon"}}},{"node":{"frontmatter":{"path":"/advanced/migration","title":"Migration"}}},{"node":{"frontmatter":{"path":"/advanced/peer-dependencies","title":"Peer Dependencies"}}}]},"markdownRemark":{"html":"<p>Yarn v2 is a very different software from the v1. While one of our aim is to make the transition as easy as possible, some behaviors had to be changed. To make things easier we've documented the most common problems that may arise when porting from one project to the other, along with suggestions to keep moving forward.</p>\n<h2 id=\"yarnrc-file-detection\"><a href=\"#yarnrc-file-detection\" aria-label=\"yarnrc file detection permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Yarnrc file detection</h2>\n<p>The Yarnrc files mechanisms have been changed and simplified. In particular:</p>\n<ul>\n<li>\n<p>Yarn doesn't use the configuration from your <code>.npmrc</code> files anymore; we instead read all of our configuration from the <code>.yarnrc</code> files whose available settings can be found in <a href=\"/berry/configuration/yarnrc\">our documentation</a>.</p>\n</li>\n<li>\n<p>To simplify the configuration process, Yarn doesn't look anywhere else than in the folder hierarchy for rc files. We do not read the XDG directory, and we do not try to read the user configuration when the repository is cloned outside of the home folder. Our recommendation is to avoid nested configuration and list exactly one <code>.yarnrc</code> per project (at the root of the repository).</p>\n</li>\n</ul>\n<h2 id=\"yarnrc-settings\"><a href=\"#yarnrc-settings\" aria-label=\"yarnrc settings permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Yarnrc settings</h2>\n<p>The settings available in the yarnrc file have changed. Using old settings will cause Yarn to throw an exception at boot time unless properly guarded.</p>\n<p>We recommend you to make sure you only use <a href=\"/berry/configuration/yarnrc\">modern settings</a> if possible. In case a particular feature you relied on in the v1 is missing in the v2, feel free to open an issue on our repository to discuss whether we should add it back.</p>\n<p>If you absolutely need to keep in your file hierarchy some v1 settings, you can use the special field named <code>berry</code>. Should Yarn v2+ find this field, it will use its content and ignore any other field. For example, the following file will work as expected on both the v1 and v2+ branches:</p>\n<pre><code class=\"language-yaml\">workspaces-experimental true\n\nberry:\n  enable-global-cache true\n</code></pre>\n<h2 id=\"plugnplay\"><a href=\"#plugnplay\" aria-label=\"plugnplay permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plug'n'Play</h2>\n<p>Starting from the v2, Plug'n'Play is enabled by default. This might cause compatibility issues in a few corner cases for projects that kept relying on unsafe pattern. Keep an eye on the <a href=\"/berry/features/pnp\">dedicated page</a>, and try to avoid those projects until they correct the situation. Also feel free to open an issue on Yarn's repository as well so that we can keep track of them and offer our help.</p>","frontmatter":{"path":"/advanced/migration","title":"Migration"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"category":"advanced"}}